#Если Клиент Тогда
// Модуль отчета
	
////////////////////////////////////////////////////////////////////////////////
// ПЕРЕМЕННЫЕ ОБЪЕКТА
Перем ТекстЗапроса Экспорт;                            // хранит текст запроса отчета
Перем ПараметрыИспользованияПолейИПоказателей Экспорт; // хранит параметры использования полей и показателей
Перем ДеревоДоступныхПолей Экспорт;                    // хранит дерево доступных полей отчета
Перем СтруктураСвязиСвойств Экспорт;                   // хранит структуру связи свойств
Перем ПриемникПеретаскивания Экспорт;                  // хранит перетаскиваемый объект
Перем СтруктураНеСвязанныхПоказателей Экспорт;         // хранит структуру не связанных показателей
Перем ДополнительныеПоляОтчета Экспорт;                // хранит дополнительные поля отчета
Перем ТаблицаЗапроса Экспорт;                          // хранит таблицу запроса
Перем ТаблицаВыраженийПостроителя Экспорт;             // хранит таблицу выражений построителя
Перем СтруктураИтоговыхВыраженийПоказателей Экспорт;   // хранит структуру итоговых выражений показателей

	
////////////////////////////////////////////////////////////////////////////////
// ЭКСПОРТНЫЕ ПРОЦЕДУРЫ И ФУНКЦИИ ДОПОЛНИТЕЛЬНЫХ МЕТОДОВ ОБЪЕКТА
	
// Устанавливает параметр "ВыводитьТолькоНеНулевуюРазницу" в построителе отчета ПостроительОтчета
//
// Без параметров
//
Процедура УстановитьОсновныеПараметры()
		
	//Заполним параметры
	ПостроительОтчета.Параметры.Вставить("ВыводитьТолькоНеНулевуюРазницу", ВыводитьТолькоНеНулевуюРазницу);
		
КонецПроцедуры // УстановитьОсновныеПараметры()
	
// Стандартная процедура настройки построителя отчета 
//
// Параметры
//  ИмяМакета  – строка – название макета
//
//  ИмяМакетаПараметров  – строка – название макета параметров
//
Процедура ЗаполнитьНачальныеНастройки(ИмяМакета, ИмяМакетаПараметров="Параметры") Экспорт
		
	Если ТипЗнч(СохраненныеНастройки) <> Тип("Структура") Тогда
		ВыводитьТолькоНеНулевуюРазницу = Ложь;
	КонецЕсли;	
		
	// Заполним структуру параметров
	СтруктураПараметрыЗаполнения = Новый Структура();
	СтруктураПараметрыЗаполнения.Вставить("ОтчетОбъект",            ЭтотОбъект);
	СтруктураПараметрыЗаполнения.Вставить("ИмяМакетаТекстаЗапроса", ИмяМакета);
	СтруктураПараметрыЗаполнения.Вставить("ИмяМакетаПараметров",    ИмяМакетаПараметров);
	отЗаполнитьНачальныеНастройкиДляТаблицыЗапросов(СтруктураПараметрыЗаполнения, глПрава);
	
	
	//СписокОтбора = Новый СписокЗначений();
	//СписокОтбора.Добавить(Перечисления.ВидыСкладов.Ордерный);
	//СписокОтбора.Добавить(Перечисления.ВидыСкладов.Ячеистый);
	//	
	//ОтборПоВидуСклада=ПостроительОтчета.Отбор.Найти("ВидСклада");
	//	
	//Если ОтборПоВидуСклада=Неопределено Тогда
	//	ОтборПоВидуСклада = ПостроительОтчета.Отбор.Добавить("ВидСклада");
	//КонецЕсли;
	//	
	//ОтборПоВидуСклада.ВидСравнения = ВидСравнения.ВСписке;
	//ОтборПоВидуСклада.Значение = СписокОтбора;
	//ОтборПоВидуСклада.Использование = Истина;
	//	
	//ПостроительОтчета.УсловноеОформление.Очистить();
	//	
	//ЭлементОформления = ПостроительОтчета.УсловноеОформление.Добавить("КоличествоИтоговаяРазницаКонечныйОстаток");
	//	
	//ОбластьОформления = ЭлементОформления.Область.Добавить("КоличествоИтоговаяРазницаКонечныйОстаток");
	//ОбластьОформления.ТипОбласти = ТипОбластиОформления.Поле;
	//	
	//ОтборОформления = ЭлементОформления.Отбор.Добавить("КоличествоИтоговаяРазницаКонечныйОстаток");
	//ОтборОформления.ВидСравнения = ВидСравнения.Меньше;
	//ОтборОформления.Значение = 0;
	//ОтборОформления.Использование = Истина;
	//	
	//ЭлементОформления.Оформление.ЦветТекста.Значение = WebЦвета.Красный;
	//ЭлементОформления.Оформление.ЦветТекста.Использование = Истина;	
	//ЭлементОформления.Использование = Истина;  
	//	
	//Если ИмяМакета = "ТекстЗапросаОстаткиИОбороты" Тогда	
	//	ЭлементОформления = ПостроительОтчета.УсловноеОформление.Добавить("КоличествоИтоговаяРазницаНачальныйОстаток");
	//		
	//	ОбластьОформления = ЭлементОформления.Область.Добавить("КоличествоИтоговаяРазницаНачальныйОстаток");
	//	ОбластьОформления.ТипОбласти = ТипОбластиОформления.Поле;
	//		
	//	ОтборОформления = ЭлементОформления.Отбор.Добавить("КоличествоИтоговаяРазницаНачальныйОстаток");
	//	ОтборОформления.ВидСравнения = ВидСравнения.Меньше;
	//	ОтборОформления.Значение = 0;
	//	ОтборОформления.Использование = Истина;
	//		
	//	ЭлементОформления.Оформление.ЦветТекста.Значение = WebЦвета.Красный;
	//	ЭлементОформления.Оформление.ЦветТекста.Использование = Истина;	
	//	ЭлементОформления.Использование = Истина;  
	//КонецЕсли;	
		
		
КонецПроцедуры	//	ЗаполнитьНачальныеНастройки()
	
// формирует отчет в виде табличного документа
//
// Параметры
//  ДокументРезультат – ТабличныйДокумент или ПолеТабличногоДокумента
//
// Возвращаемое значение:
//  Результат - ТабличныйДокумент
//
Функция СформироватьТабличныйДокумент(ДокументРезультат=Неопределено) Экспорт
		
	УстановитьОсновныеПараметры();
	
	Результат = отСформироватьТабличныйДокумент(ЭтотОбъект, ДокументРезультат,, глПрава);
	Возврат Результат;
		
КонецФункции // ЗаполнитьНачальныеНастройки()
	
// формирует отчет в виде сводной таблицы
//
// Параметры
//  ДокументРезультат – ТабличныйДокумент или ПолеТабличногоДокумента
//
// Возвращаемое значение:
//  ДокументРезультат - ТабличныйДокумент 
//
Функция СформироватьСводнуюТаблицу(ДокументРезультат=Неопределено) Экспорт
		
	УстановитьОсновныеПараметры();
	отСформироватьСводнуюТаблицу(ЭтотОбъект, ДокументРезультат);
		
	Возврат ДокументРезультат;
		
КонецФункции // СформироватьСводнуюТаблицу()
	
// формирует диаграмму
//
// Параметры
//  ПолеДиаграммы – Диаграмма
//  СтруктураПараметров - структура
//
// Возвращаемое значение:
//  ПолеДиаграммы - Диаграмма
//
Функция СформироватьДиаграмму(ПолеДиаграммы=Неопределено, СтруктураПараметров=Неопределено) Экспорт
		
	УстановитьОсновныеПараметры();
	отСформироватьДиаграмму(ЭтотОбъект, ПолеДиаграммы, СтруктураПараметров);
		
	Возврат ПолеДиаграммы;
		
КонецФункции // СформироватьДиаграмму()
	
// формирует отчет в виде сводной диаграммы
//
// Параметры
//  ПолеСводнойДиаграммы – СводнаяДиаграмма
//
// Возвращаемое значение:
//  ПолеСводнойДиаграммы - СводнаяДиаграмма
//
Функция СформироватьСводнуюДиаграмму(ПолеСводнойДиаграммы=Неопределено) Экспорт
		
	УстановитьОсновныеПараметры();
	отСформироватьСводнуюДиаграмму(ЭтотОбъект, ПолеСводнойДиаграммы);
		
	Возврат ПолеСводнойДиаграммы;
		
КонецФункции // СформироватьСводнуюДиаграмму()
	
// Функция возвращает структуру форматирования полей
//
// Без параметров
//  
// Возвращаемое значение:
//  СтруктураФорматаПолей - структура
//
Функция СтруктураФорматированияПолей() Экспорт
		
	СтруктураФорматаПолей = Новый Структура;
	отСтруктураФорматированияПолей(ЭтотОбъект, СтруктураФорматаПолей);
		
	// Если необходимо, добавим другие или переустановим строки форматирования полей
		
	Возврат СтруктураФорматаПолей;
		
КонецФункции	//	СтруктураФорматированияПолей()
	
//////////////////////////////////////////////////////////////////////////////////
//// ОПЕРАТОРЫ ОСНОВНОЙ ПРОГРАММЫ
	
отОтчетПриИнициализацииОбъекта(ЭтотОбъект);
ПромежуточныеЗначенияПостроителя = Новый Структура();
СтруктураНеСвязанныхПоказателей = Новый Структура();
#КонецЕсли