ВЫБРАТЬ
	КурсыВалютСрезПоследних.Валюта КАК Валюта,
	ВЫБОР
		КОГДА КурсыВалютСрезПоследних.Кратность = 0 ТОГДА
			КурсыВалютСрезПоследних.Курс
		ИНАЧЕ
			КурсыВалютСрезПоследних.Курс/КурсыВалютСрезПоследних.Кратность
	КОНЕЦ / &КурсВалютыОтчета КАК Коэффициент
ПОМЕСТИТЬ
	КурсыВалютСрезПоследних
ИЗ
	РегистрСведений.КурсыВалют.СрезПоследних(&ДатаКон, ) КАК КурсыВалютСрезПоследних
;

ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ЦеныАвтомобилейСрезПоследних.Автомобиль КАК Модель,
	ЦеныАвтомобилейСрезПоследних.ВариантКомплектации КАК ВариантКомплектации //ЦЕНЫ ВЫБРАТЬ ЦеныАвтомобилейСрезПоследних$
{ВЫБРАТЬ
	Модель.* КАК Модель,
	ВариантКомплектации.* КАК ВариантКомплектации
}
ИЗ
	РегистрСведений.ЦеныАвтомобилей.СрезПоследних(&ДатаКон, Автомобиль ССЫЛКА Справочник.Модели И ТипЦен в (&СписокТиповЦен) И (&ТолькоМодели И ВариантКомплектации = &ВариантКомплектации ИЛИ Не &ТолькоМодели) {(ВЫРАЗИТЬ(Автомобиль КАК Справочник.Модели)).* КАК Модель, ВариантКомплектации.* КАК ВариантКомплектации}) КАК ЦеныАвтомобилейСрезПоследних
ЛЕВОЕ СОЕДИНЕНИЕ
	КурсыВалютСрезПоследних КАК КурсыВалютСрезПоследних
ПО
	(ЦеныАвтомобилейСрезПоследних.ТипЦен.ВВалютеУчета И 
	ЦеныАвтомобилейСрезПоследних.Автомобиль.ВалютаУчета = КурсыВалютСрезПоследних.Валюта ИЛИ 
	(НЕ ЦеныАвтомобилейСрезПоследних.ТипЦен.ВВалютеУчета) И 
	ЦеныАвтомобилейСрезПоследних.ТипЦен.ВалютаЦены = КурсыВалютСрезПоследних.Валюта)
СГРУППИРОВАТЬ ПО
	ЦеныАвтомобилейСрезПоследних.Автомобиль,
	ЦеныАвтомобилейСрезПоследних.ВариантКомплектации
{УПОРЯДОЧИТЬ ПО
	Модель.* КАК Модель,
	ВариантКомплектации.* КАК ВариантКомплектации
	}
ИТОГИ
	////ЦЕНЫ ИТОГИ ОбъединенныйЗапросМоделей$
	
ПО
	ОБЩИЕ
	
{ИТОГИ ПО
	Модель.* КАК Модель,
	ВариантКомплектации.* КАК ВариантКомплектации
	}
АВТОУПОРЯДОЧИВАНИЕ
