
//////////////////////////////////////////////////////////////////////////////////
//// ПРОЦЕДУРЫ И ФУНКЦИИ ОБЩЕГО НАЗНАЧЕНИЯ


////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ОБРАБОТЧИКИ СОБЫТИЙ РЕКВИЗИТОВ ФОРМЫ

&НаКлиенте
// Процедура - обработчик события "Нажатие" элемента формы "ДекорацияПодробнаяИнформация"
//
Процедура ДекорацияПодробнаяИнформация(Элемент)
	ЗапуститьПриложение("http://rarus.ru/1c-crm/1c-rarus-integratsiya-s-telefoniey-softfon-redaktsiya-3/");
КонецПроцедуры // ДекорацияПодробнаяИнформация()

&НаКлиенте
// Процедура - обработчик события "Нажатие" элемента формы "ДекорацияНастройкаПодключенияСофтФон"
//
Процедура ДекорацияНастройкаПодключенияСофтФон(Элемент)
	ФормаНастроек = ПолучитьФорму("ОбщаяФорма.сфпОбщиеНастройки");
	Если ФормаНастроек.Открыта() Тогда
		ФормаНастроек.Активизировать();
	Иначе
		ФормаНастроек.Открыть();
	КонецЕсли;	
КонецПроцедуры // ДекорацияНастройкаПодключенияСофтФон()

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ДЕЙСТВИЯ КОМАНД ФОРМЫ

&НаКлиенте
Процедура ОбработкаНавигационнойСсылки(Элемент, НавигационнаяСсылкаФорматированнойСтроки, СтандартнаяОбработка)
		
	Если Найти(НавигационнаяСсылка, "@") > 0 Тогда
		СтандартнаяОбработка = Ложь;
		ПодключитьРасширениеРаботыСФайлами();
		ЗапуститьПриложение("mailto:" + НавигационнаяСсылка);
	КонецЕсли;

КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

&НаСервере
// Процедура - обработчик события формы "ПриСозданииНаСервере"
//
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Если НЕ Параметры.Свойство("ВидФормы") Тогда
		Отказ = Истина;
	ИначеЕсли Параметры.ВидФормы = "СофтФон" Тогда
		Элементы.ГруппаСтраницы.ТекущаяСтраница = Элементы.ГруппаСофтФон;
		Элементы.ДекорацияНастройкаПодключенияСофтФон.Гиперссылка = ПравоДоступа("Администрирование", Метаданные);
		Если Параметры.Свойство("ТекстОшибки") Тогда
			ОписаниеОшибки = Параметры.ТекстОшибки;
		КонецЕсли;	
	Иначе
		Отказ = Истина;
	КонецЕсли;
КонецПроцедуры // ПриСозданииНаСервере()
