
Функция ПолучитьСвойства() Экспорт
	
	СтруктураСвойств = Новый Структура;
	СтруктураСвойств.Вставить("Организация");
	СтруктураСвойств.Вставить("ПодразделениеКомпании");
	СтруктураСвойств.Вставить("Менеджер");
	СтруктураСвойств.Вставить("СкладКомпании");
	СтруктураСвойств.Вставить("ДокументПродажи");
	СтруктураСвойств.Вставить("Поставщик");
	СтруктураСвойств.Вставить("Покупатель");
	СтруктураСвойств.Вставить("Автомобиль");
	СтруктураСвойств.Вставить("Проект");
	СтруктураСвойств.Вставить("Номенклатура");
	СтруктураСвойств.Вставить("ХарактеристикаНоменклатуры");
	СтруктураСвойств.Вставить("АвтоРабота");
	СтруктураСвойств.Вставить("Партия");
	СтруктураСвойств.Вставить("ПериодРегистратор");
	
	Возврат СтруктураСвойств;
	
КонецФункции

// Стандартная процедура настройки схемы компоновщика данных
//
Процедура ЗаполнитьНачальныеНастройки() Экспорт
	
	ОтчетыСервер.ЗаполнитьНачальныеОстатки(ЭтотОбъект);
	
	ИмяУпрВалюты  = Константы.ВалютаУправленческогоУчетаКомпании.Получить().Наименование;
	ИмяРеглВалюты = Константы.ВалютаРегламентированногоУчетаОрганизаций.Получить().Наименование;
	
	СтруктураВалютПоказателей = Новый Структура();
	СтруктураВалютПоказателей.Вставить("СуммаРегл", ИмяРеглВалюты);
	СтруктураВалютПоказателей.Вставить("СуммаУпр", ИмяУпрВалюты);
	СтруктураВалютПоказателей.Вставить("СуммаНДС", ИмяРеглВалюты);
	СтруктураВалютПоказателей.Вставить("СуммаБезНДС", ИмяРеглВалюты);
	СтруктураВалютПоказателей.Вставить("СебестоимостьРегл", ИмяРеглВалюты);
	СтруктураВалютПоказателей.Вставить("СебестоимостьУпр", ИмяУпрВалюты);
	СтруктураВалютПоказателей.Вставить("СуммаНДСВходящий", ИмяРеглВалюты);
	СтруктураВалютПоказателей.Вставить("СебестоимостьБезНДС", ИмяРеглВалюты);
	СтруктураВалютПоказателей.Вставить("СуммаНаценкиРегл", ИмяРеглВалюты);
	СтруктураВалютПоказателей.Вставить("СуммаНаценкиУпр", ИмяУпрВалюты);
	СтруктураВалютПоказателей.Вставить("СуммаНаценкиБезНДС", ИмяРеглВалюты);
	СтруктураВалютПоказателей.Вставить("СуммаСкидки", ИмяРеглВалюты);
	
	СтруктураВалютПоказателей.Вставить("СуммаЗаказНарядыУпр", ИмяУпрВалюты);
	СтруктураВалютПоказателей.Вставить("СуммаРеализацииУпр", ИмяУпрВалюты);
	
	Для Каждого ТекРесурс Из СхемаКомпоновкиДанных.ПоляИтога Цикл
		Для Каждого ТекНабор Из СхемаКомпоновкиДанных.НаборыДанных Цикл
			Для Каждого ТекПоле Из ТекНабор.Поля Цикл
				
				Если НЕ ТипЗнч(ТекПоле) = Тип("ПолеНабораДанныхСхемыКомпоновкиДанных") Тогда
					Продолжить;
				КонецЕсли;
				
				ИмяПоля = СокрЛП(ТекПоле.Поле);
				Если ТекРесурс.ПутьКДанным = ИмяПоля И СтруктураВалютПоказателей.Свойство(ИмяПоля) Тогда
					ТекПоле.Заголовок = ТекПоле.Заголовок + " (" + СтруктураВалютПоказателей[ИмяПоля]+")";
					Прервать;
				КонецЕсли;
				
			КонецЦикла;
		КонецЦикла;
	КонецЦикла;
	
КонецПроцедуры

Процедура ПриКомпоновкеРезультата(ДокументРезультат, ДанныеРасшифровки, СтандартнаяОбработка) Экспорт
	
	ОтчетыСервер.ВывестиОтчет(ЭтотОбъект, СхемаКомпоновкиДанных, КомпоновщикНастроек.Настройки, ДокументРезультат, ДанныеРасшифровки, СтандартнаяОбработка);
	
КонецПроцедуры
