ВЫБРАТЬ РАЗРЕШЕННЫЕ
ТаблицаРегистра.КоличествоОборот КАК Количество, //ПОКАЗАТЕЛЬ 
ТаблицаРегистра.КоличествоОборот / Номенклатура.ОсновнаяЕдиницаИзмерения.Коэффициент КАК КоличествоОсн, //ПОКАЗАТЕЛЬ
ТаблицаРегистра.СуммаОборот КАК СуммаРегл, //ПОКАЗАТЕЛЬ_
ТаблицаРегистра.СебестоимостьОборот КАК СебестоимостьРегл, //ПОКАЗАТЕЛЬ
ТаблицаРегистра.СуммаСкидкиОборот КАК СуммаСкидки, //ПОКАЗАТЕЛЬ_
ТаблицаРегистра.СуммаОборот-ТаблицаРегистра.СебестоимостьОборот КАК СуммаНаценкиРегл, //ПОКАЗАТЕЛЬ
ТаблицаРегистра.СуммаУпрОборот КАК СуммаУпр, //ПОКАЗАТЕЛЬ
ТаблицаРегистра.СебестоимостьУпрОборот КАК СебестоимостьУпр, //ПОКАЗАТЕЛЬ_
ТаблицаРегистра.СуммаУпрОборот-ТаблицаРегистра.СебестоимостьУпрОборот КАК СуммаНаценкиУпр, //ПОКАЗАТЕЛЬ_
ВЫБОР КОГДА ТаблицаРегистра.СебестоимостьУпрОборот=0 ТОГДА 0 ИНАЧЕ ((ТаблицаРегистра.СуммаУпрОборот-ТаблицаРегистра.СебестоимостьУпрОборот)/ТаблицаРегистра.СебестоимостьУпрОборот)*100 КОНЕЦ КАК ПроцентНаценки, //ПОКАЗАТЕЛЬ  
ВЫБОР КОГДА (ТаблицаРегистра.СуммаОборот+ТаблицаРегистра.СуммаСкидкиОборот)=0 ТОГДА 0 ИНАЧЕ (ТаблицаРегистра.СуммаСкидкиОборот/(ТаблицаРегистра.СуммаОборот+ТаблицаРегистра.СуммаСкидкиОборот))*100 КОНЕЦ КАК ПроцентСкидки //ПОКАЗАТЕЛЬ
//СВОЙСТВА

{ВЫБРАТЬ 
#Область ИзмеренияПостроителяДляСвойств
	ТаблицаРегистра.ПодразделениеКомпании.Организация.* КАК Организация,
	ТаблицаРегистра.ПодразделениеКомпании.* КАК ПодразделениеКомпании,
	ТаблицаРегистра.Регистратор.Менеджер.* КАК Менеджер,
	ТаблицаРегистра.СкладКомпании.* КАК СкладКомпании,
	ТаблицаРегистра.ДокументПродажи.* КАК ДокументПродажи,
	ТаблицаРегистра.СтатусПартии.* КАК СтатусПартии,
	ТаблицаРегистра.Партия.* КАК Партия,
	ТаблицаРегистра.Номенклатура.ТипНоменклатуры.* КАК ТипНоменклатуры,
	ТаблицаРегистра.Номенклатура.* КАК Номенклатура,
	ТаблицаРегистра.ХарактеристикаНоменклатуры.* КАК ХарактеристикаНоменклатуры,
	ТаблицаРегистра.Поставщик.* КАК Поставщик,
	ТаблицаРегистра.Покупатель.* КАК Покупатель,
	ТаблицаРегистра.ДоговорВзаиморасчетов.* КАК ДоговорВзаиморасчетов,
	ТаблицаРегистра.ХозОперация.* КАК ХозОперация,
	ТаблицаРегистра.Регистратор.* КАК ПериодРегистратор,
#КонецОбласти	
	НачалоПериода(ТаблицаРегистра.Период, День) КАК ПериодДень ,
	НачалоПериода(ТаблицаРегистра.Период, Неделя) КАК ПериодНеделя ,
	НачалоПериода(ТаблицаРегистра.Период, Месяц) КАК ПериодМесяц ,
	НачалоПериода(ТаблицаРегистра.Период, Квартал) КАК ПериодКвартал ,
	НачалоПериода(ТаблицаРегистра.Период, Год) КАК ПериодГод 
//СВОЙСТВА
}
 ИЗ РегистрНакопления.Продажи.Обороты(&ДатаНач, &ДатаКон, Регистратор,{
	ПодразделениеКомпании.Организация.* КАК Организация,
	ПодразделениеКомпании.* КАК ПодразделениеКомпании,
	СкладКомпании.* КАК СкладКомпании,
	ДокументПродажи.* КАК ДокументПродажи,
	СтатусПартии.* КАК СтатусПартии,
	Номенклатура.ТипНоменклатуры.* КАК ТипНоменклатуры,
	Номенклатура.* КАК Номенклатура,
	ХарактеристикаНоменклатуры.* КАК ХарактеристикаНоменклатуры,
	Поставщик.* КАК Поставщик,
	Покупатель.* КАК Покупатель,
	ДоговорВзаиморасчетов.* КАК ДоговорВзаиморасчетов,
	ХозОперация.* КАК ХозОперация}) КАК ТаблицаРегистра
//СОЕДИНЕНИЯ

{ГДЕ 
	ТаблицаРегистра.ПодразделениеКомпании.Организация.* КАК Организация,
	ТаблицаРегистра.ПодразделениеКомпании.* КАК ПодразделениеКомпании,
	ТаблицаРегистра.Регистратор.Менеджер.* КАК Менеджер,
	ТаблицаРегистра.СкладКомпании.* КАК СкладКомпании,
	ТаблицаРегистра.ДокументПродажи.* КАК ДокументПродажи,
	ТаблицаРегистра.СтатусПартии.* КАК СтатусПартии,
	ТаблицаРегистра.Партия.* КАК Партия,
	ТаблицаРегистра.Номенклатура.ТипНоменклатуры.* КАК ТипНоменклатуры,
	ТаблицаРегистра.Номенклатура.* КАК Номенклатура,
	ТаблицаРегистра.ХарактеристикаНоменклатуры.* КАК ХарактеристикаНоменклатуры,
	ТаблицаРегистра.Поставщик.* КАК Поставщик,
	ТаблицаРегистра.Покупатель.* КАК Покупатель,
	ТаблицаРегистра.ДоговорВзаиморасчетов.* КАК ДоговорВзаиморасчетов,
	ТаблицаРегистра.ХозОперация.* КАК ХозОперация,
	ТаблицаРегистра.Регистратор.* КАК ПериодРегистратор

//СВОЙСТВА
}
{УПОРЯДОЧИТЬ ПО 
	ТаблицаРегистра.ПодразделениеКомпании.Организация.* КАК Организация,
	ТаблицаРегистра.ПодразделениеКомпании.* КАК ПодразделениеКомпании,
	ТаблицаРегистра.Регистратор.Менеджер.* КАК Менеджер,
	ТаблицаРегистра.СкладКомпании.* КАК СкладКомпании,
	ТаблицаРегистра.ДокументПродажи.* КАК ДокументПродажи,
	ТаблицаРегистра.СтатусПартии.* КАК СтатусПартии,
	ТаблицаРегистра.Партия.* КАК Партия,
	ТаблицаРегистра.Номенклатура.ТипНоменклатуры.* КАК ТипНоменклатуры,
	ТаблицаРегистра.Номенклатура.* КАК Номенклатура,
	ТаблицаРегистра.ХарактеристикаНоменклатуры.* КАК ХарактеристикаНоменклатуры,
	ТаблицаРегистра.Поставщик.* КАК Поставщик,
	ТаблицаРегистра.Покупатель.* КАК Покупатель,
	ТаблицаРегистра.ДоговорВзаиморасчетов.* КАК ДоговорВзаиморасчетов,
	ТаблицаРегистра.ХозОперация.* КАК ХозОперация,
	ТаблицаРегистра.Регистратор.* КАК ПериодРегистратор,
	НачалоПериода(ТаблицаРегистра.Период, День) КАК ПериодДень ,
	НачалоПериода(ТаблицаРегистра.Период, Неделя) КАК ПериодНеделя ,
	НачалоПериода(ТаблицаРегистра.Период, Месяц) КАК ПериодМесяц ,
	НачалоПериода(ТаблицаРегистра.Период, Квартал) КАК ПериодКвартал ,
	НачалоПериода(ТаблицаРегистра.Период, Год) КАК ПериодГод,
	СуммаНаценкиУпр, //ПОКАЗАТЕЛЬ_
	СуммаНаценкиРегл, //ПОКАЗАТЕЛЬ
	СуммаРегл, //ПОКАЗАТЕЛЬ_ 
	СуммаУпр, //ПОКАЗАТЕЛЬ
	СебестоимостьРегл, //ПОКАЗАТЕЛЬ 
	СебестоимостьУпр, //ПОКАЗАТЕЛЬ_ 
	Количество, //ПОКАЗАТЕЛЬ 
	СуммаСкидки, //ПОКАЗАТЕЛЬ_
	ПроцентСкидки //ПОКАЗАТЕЛЬ  	
}
{ИТОГИ ПО 
	ТаблицаРегистра.ПодразделениеКомпании.Организация.* КАК Организация,
	ТаблицаРегистра.ПодразделениеКомпании.* КАК ПодразделениеКомпании,
	ТаблицаРегистра.Регистратор.Менеджер.* КАК Менеджер,
	ТаблицаРегистра.СкладКомпании.* КАК СкладКомпании,
	ТаблицаРегистра.ДокументПродажи.* КАК ДокументПродажи,
	ТаблицаРегистра.СтатусПартии.* КАК СтатусПартии,
	ТаблицаРегистра.Партия.* КАК Партия,
	ТаблицаРегистра.Номенклатура.ТипНоменклатуры.* КАК ТипНоменклатуры,
	ТаблицаРегистра.Номенклатура.* КАК Номенклатура,
	ТаблицаРегистра.ХарактеристикаНоменклатуры.* КАК ХарактеристикаНоменклатуры,
	ТаблицаРегистра.Поставщик.* КАК Поставщик,
	ТаблицаРегистра.Покупатель.* КАК Покупатель,
	ТаблицаРегистра.ДоговорВзаиморасчетов.* КАК ДоговорВзаиморасчетов,
	ТаблицаРегистра.ХозОперация.* КАК ХозОперация,
	ТаблицаРегистра.Регистратор.* КАК ПериодРегистратор,
	НачалоПериода(ТаблицаРегистра.Период, День) КАК ПериодДень ,
	НачалоПериода(ТаблицаРегистра.Период, Неделя) КАК ПериодНеделя ,
	НачалоПериода(ТаблицаРегистра.Период, Месяц) КАК ПериодМесяц ,
	НачалоПериода(ТаблицаРегистра.Период, Квартал) КАК ПериодКвартал ,
	НачалоПериода(ТаблицаРегистра.Период, Год) КАК ПериодГод
//СВОЙСТВА
}
ИТОГИ  
СУММА(Количество), //ПОКАЗАТЕЛЬ 
СУММА(КоличествоОсн), //ПОКАЗАТЕЛЬ 
СУММА(СуммаРегл), //ПОКАЗАТЕЛЬ_ 
СУММА(СуммаУпр), //ПОКАЗАТЕЛЬ
СУММА(СебестоимостьРегл), //ПОКАЗАТЕЛЬ
СУММА(СебестоимостьУпр), //ПОКАЗАТЕЛЬ_
СУММА(СуммаСкидки), //ПОКАЗАТЕЛЬ_
СУММА(СуммаНаценкиУпр), //ПОКАЗАТЕЛЬ_
СУММА(СуммаНаценкиРегл), //ПОКАЗАТЕЛЬ
ВЫБОР КОГДА ЕСТЬNULL(СУММА(СебестоимостьУпр),0)<=0 ТОГДА 0 ИНАЧЕ (СУММА(СуммаНаценкиУпр)/СУММА(СебестоимостьУпр))*100 КОНЕЦ КАК ПроцентНаценки, //ПОКАЗАТЕЛЬ
ВЫБОР КОГДА (СУММА(СуммаРегл)+СУММА(СуммаСкидки))=0 ТОГДА 0 ИНАЧЕ (СУММА(СуммаСкидки)/(СУММА(СуммаРегл)+СУММА(СуммаСкидки)))*100 КОНЕЦ КАК ПроцентСкидки //ПОКАЗАТЕЛЬ
//ИТОГИСВОЙСТВА

ПО ОБЩИЕ ,
	ТаблицаРегистра.ПодразделениеКомпании КАК ПодразделениеКомпании,
	ТаблицаРегистра.Номенклатура ИЕРАРХИЯ  КАК Номенклатура,
	ТаблицаРегистра.Покупатель КАК Покупатель
АВТОУПОРЯДОЧИВАНИЕ 
