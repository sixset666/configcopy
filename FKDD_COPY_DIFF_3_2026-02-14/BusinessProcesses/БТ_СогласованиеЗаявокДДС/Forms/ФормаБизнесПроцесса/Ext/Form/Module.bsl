
&НаКлиенте
Процедура ПриОткрытии(Отказ)
	ПоказатьЗначение(, Объект.ЗаявкаНаРасходДС);
	Отказ = Истина;
КонецПроцедуры
//&НаСервере
//Процедура УстановитьДоступностьЭлементов()
//	РольДоступнаАдминистратор 				= РольДоступна("Администратор");
//	Элементы.Пользователь.ТолькоПросмотр 	= НЕ РольДоступнаАдминистратор;
//	Элементы.ЗаказПокупателя.ТолькоПросмотр = НЕ РольДоступнаАдминистратор И НЕ Параметры.Ключ.Пустая();
//	
//	//<< Бушуев 000186187 12.03.2021
//	ПользовательSRMG = БизнесПроцессы.ЗаявкаНаПроверкуЗаказаПокупателя.ПользовательSRMG(ПараметрыСеанса.Пользователь);
//	Элементы.ОбновитьДанныеПоЗаказуПокупателя.Видимость = РольДоступнаАдминистратор или ПользовательSRMG;
//	//>> Бушуев 000186187 12.03.2021
//	
//КонецПроцедуры

//&НаСервере
//Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
//	Если Параметры.Ключ.Пустая() Тогда
//		Объект.Пользователь = ПараметрыСеанса.Пользователь;
//		Важность = ПредопределенноеЗначение("Перечисление.Важность.Средняя");
//	КонецЕсли;
//	УстановитьДоступностьЭлементов();
//	УстановитьОтборВложенийНаСервере();
//	ОбновитьПризнакСанкционности();
//	УстановитьЗаголовокПровереноНаСанкции();
//	
//КонецПроцедуры

//&НаКлиенте
//Процедура ЗаказПокупателяПриИзменении(Элемент)
//	ЗаказПокупателяПриИзмененииНаСервере();
//КонецПроцедуры

//&НаСервере
//Процедура ЗаказПокупателяПриИзмененииНаСервере()
//	ЗаявкаОбъект = ДанныеФормыВЗначение(Объект, Тип("БизнесПроцессОбъект.ЗаявкаНаПроверкуЗаказаПокупателя"));
//	БизнесПроцессы.ЗаявкаНаПроверкуЗаказаПокупателя.ЗаполнитьЗаявкуНаОснованииЗаказаПокупателя(ЗаявкаОбъект, Объект.ЗаказПокупателя,, Истина, Объект.Ссылка);
//	ЗначениеВДанныеФормы(ЗаявкаОбъект, Объект);
//	ОбновитьПризнакСанкционности();
//	УстановитьЗаголовокПровереноНаСанкции();
//КонецПроцедуры

//#Область Вложения

//&НаКлиенте
//Процедура ПрикрепитьОсновнойФайл(Команда)
//	ОбъектВложения = объект.Ссылка;
//	//РаботаСХранилищемКлиент.ПрикрепитьФайлКЗаявке(ОбъектВложения,Ложь);
//КонецПроцедуры

//&НаКлиенте
//Процедура УдалитьФайлОсновногоВложения(Команда)
//	ТекСтрока = Элементы.ОсновныеВложения.ТекущиеДанные;
//	Если ТекСтрока = Неопределено Тогда 
//		Возврат
//	КонецЕсли;
//	ОбъектВложения = объект.Ссылка;
//	РаботаСХранилищемКлиент.УдалитьФайл(ТекСтрока,ОбъектВложения);
//КонецПроцедуры

//&НаКлиенте
//Процедура ВложенияВыборФайла(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
//	СтандартнаяОбработка = ложь;
//	ОбъектВложения = объект.Ссылка;
//	ТекСтрока = Элемент.ТекущиеДанные;
//	РаботаСХранилищемКлиент.ВыбратьФайл(ТекСтрока,ОбъектВложения);
//КонецПроцедуры

//&НаКлиенте
//Процедура ОсновныеВложенияПроверкаПеретаскивания(Элемент, ПараметрыПеретаскивания, СтандартнаяОбработка, Строка, Поле)
//	СтандартнаяОбработка = НЕ (ПараметрыПеретаскивания.Значение <> Неопределено И ТипЗнч(ПараметрыПеретаскивания.Значение) = Тип("СсылкаНаФайл"));
//КонецПроцедуры

//&НаКлиенте
//Процедура ОсновныеВложенияПеретаскивание(Элемент, ПараметрыПеретаскивания, СтандартнаяОбработка, Строка, Поле)
//	СтандартнаяОбработка = НЕ (ПараметрыПеретаскивания.Значение <> Неопределено И ТипЗнч(ПараметрыПеретаскивания.Значение) = Тип("СсылкаНаФайл"));
//	Если СтандартнаяОбработка = Ложь Тогда
//		ОбъектВложения = объект.Ссылка;
//		РаботаСХранилищемКлиент.ПрикрепитьФайлКЗаявке(ОбъектВложения,Ложь,,,,,ПараметрыПеретаскивания.Значение);
//	КонецЕсли;
//КонецПроцедуры

//&НаКлиенте
//Процедура УстановитьОтборВложений()
//	ОсновныеВложения.Отбор.Элементы.Очистить();
//	ОтборБП = ОсновныеВложения.Отбор.Элементы.Добавить(Тип("ЭлементОтбораКомпоновкиДанных"));
//	ОтборБП.ВидСравнения	= ВидСравненияКомпоновкиДанных.Равно;
//	ОтборБП.ЛевоеЗначение	= Новый ПолеКомпоновкиДанных("БизнесПроцесс");
//	ОтборБП.Использование	= Истина;	
//	ОтборБП.ПравоеЗначение	= Объект.Ссылка;
//КонецПроцедуры

//&НаСервере
//Процедура УстановитьОтборВложенийНаСервере()
//	ОсновныеВложения.Отбор.Элементы.Очистить();
//	ОтборБП = ОсновныеВложения.Отбор.Элементы.Добавить(Тип("ЭлементОтбораКомпоновкиДанных"));
//	ОтборБП.ВидСравнения	= ВидСравненияКомпоновкиДанных.Равно;
//	ОтборБП.ЛевоеЗначение	= Новый ПолеКомпоновкиДанных("БизнесПроцесс");
//	ОтборБП.Использование	= Истина;	
//	ОтборБП.ПравоеЗначение	= Объект.Ссылка;
//КонецПроцедуры

//#КонецОбласти

//&НаКлиенте
//Процедура ОбработкаОповещения(ИмяСобытия, Параметр, Источник)
//	Если ИмяСобытия = "ОбновитьСписокФайлов" Тогда
//		Элементы.ОсновныеВложения.Обновить();
//	КонецЕсли; 
//КонецПроцедуры

//&НаСервере
//Процедура ПослеЗаписиНаСервере(ТекущийОбъект, ПараметрыЗаписи)
//	УстановитьОтборВложенийНаСервере();
//КонецПроцедуры


//&НаСервере
//Процедура ОбновитьПризнакСанкционности()
//	
//	Элементы.НадписьСанкционныйКонтрагент.Видимость = Ложь;

//	ХудойТекстОповещения		= "";
//	ЖирныйТекстОповещения		= "";
//	ХудойТекстОповещения_Второй	= "";
//	
//	////Второй текст пока обнуляем
//	
//	//ТекстОповещения = РегламентКредитныхИсторий.ОбновитьПризнакСанкционности(Объект.КонтрагентРеквизит.ИНН, ХудойТекстОповещения, ЖирныйТекстОповещения, ХудойТекстОповещения_Второй);
//	ТекстОповещения = Объект.ТекстОповещенияСанкции;
//	
//	Если ХудойТекстОповещения <> ""
//		ИЛИ ЖирныйТекстОповещения <> "" Тогда
//		
//		ЧастиСтроки = Новый Массив;
//		ЧастиСтроки.Добавить(Новый ФорматированнаяСтрока(ХудойТекстОповещения		, Новый Шрифт("Arial", 10, Ложь)	, WebЦвета.Красный));
//		ЧастиСтроки.Добавить(Новый ФорматированнаяСтрока(" " + ЖирныйТекстОповещения, Новый Шрифт("Arial", 12, Истина)	, WebЦвета.Красный));
//		
//		Попытка
//			ЧастиСтроки.Добавить(Новый ФорматированнаяСтрока(ХудойТекстОповещения_Второй		, Новый Шрифт("Arial", 10, Ложь)	, WebЦвета.Красный));
//		Исключение
//			//---
//		КонецПопытки;
//		
//		Элементы.НадписьСанкционныйКонтрагент.Заголовок	= Новый ФорматированнаяСтрока(ЧастиСтроки);
//	Иначе	
//		Элементы.НадписьСанкционныйКонтрагент.Заголовок	= ТекстОповещения;
//	КонецЕсли;

//	Если ТекстОповещения <> ""
//		ИЛИ ХудойТекстОповещения <> ""
//		ИЛИ ЖирныйТекстОповещения <> "" Тогда
//		Элементы.НадписьСанкционныйКонтрагент.Видимость = Истина;         
//	КонецЕсли;
//КонецПроцедуры

//&НаКлиенте
//Процедура НадписьПровереноНаСанкцииНажатие(Элемент)
//	//ОткрытьЗначение(ПоследняяПроверка);
//КонецПроцедуры

//&НаСервере
//Процедура УстановитьЗаголовокПровереноНаСанкции()
//	Элементы.НадписьПровереноНаСанкции.Заголовок = БизнесПроцессы.ЗаявкаНаПроверкуЗаказаПокупателя.ПолучитьЗначенияСвойствПроверкиНаСанкции(Объект.КонтрагентРеквизит);
//	Элементы.НадписьПровереноНаСанкции.Видимость = НЕ ПустаяСтрока(Элементы.НадписьПровереноНаСанкции.Заголовок);
//КонецПроцедуры

//&НаКлиенте
//Процедура ОбновитьДанныеПоЗаказуПокупателя(Команда)
//	ЗаказПокупателяПриИзмененииНаСервере();      
//КонецПроцедуры
