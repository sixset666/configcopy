
Процедура ПриЗаписи(Отказ)
	
	ИтогП=QVNП+ШтукиП+ФинпродуктП+ДОПП+TradeInП+СкладП;
	Если ИтогП<>100 Тогда
		Предупреждение(" Сумма доли % не равна 100! Исправте документ и повторите попытку записи.");
		Отказ=Истина;
		Возврат;
	КонецЕсли;	
	
	
	НаборЗаписей = РегистрыСведений.ТТ_ПланыЗП.СоздатьНаборЗаписей();
	
	НаборЗаписей.Отбор.Бренд.Установить(Бренд); 
	НаборЗаписей.Отбор.Должность.Установить(Должность); 
	НаборЗаписей.Отбор.Период.Установить(НачалоМесяца(Дата));
	НаборЗаписей.Отбор.Параметр.Установить(Перечисления.ТТ_Параметры_ЗП.ДР); 
	
	НоваяЗапись = НаборЗаписей.Добавить(); 
	
	НоваяЗапись.Период = НачалоМесяца(Дата); 
	НоваяЗапись.Бренд = Бренд; 
	НоваяЗапись.Должность = Должность; 
	НоваяЗапись.Параметр = Перечисления.ТТ_Параметры_ЗП.ДР; 
	НоваяЗапись.План = ДР; 
	НоваяЗапись.Процент = ДР; 
	
	НаборЗаписей.Записать(Истина); 	
	НаборЗаписей.Очистить();

	НаборЗаписей.Отбор.Бренд.Установить(Бренд); 
	НаборЗаписей.Отбор.Должность.Установить(Должность); 
	НаборЗаписей.Отбор.Период.Установить(НачалоМесяца(Дата));
	НаборЗаписей.Отбор.Параметр.Установить(Перечисления.ТТ_Параметры_ЗП.QVN); 
	
	НоваяЗапись = НаборЗаписей.Добавить(); 
	
	НоваяЗапись.Период = НачалоМесяца(Дата); 
	НоваяЗапись.Бренд = Бренд; 
	НоваяЗапись.Должность = Должность; 
	НоваяЗапись.Параметр = Перечисления.ТТ_Параметры_ЗП.QVN; 
	НоваяЗапись.План = QVN; 
	НоваяЗапись.Процент = QVNП; 
	
	НаборЗаписей.Записать(Истина); 	
	НаборЗаписей.Очистить();
	
	НаборЗаписей.Отбор.Бренд.Установить(Бренд); 
	НаборЗаписей.Отбор.Должность.Установить(Должность); 
	НаборЗаписей.Отбор.Период.Установить(НачалоМесяца(Дата));
	НаборЗаписей.Отбор.Параметр.Установить(Перечисления.ТТ_Параметры_ЗП.TradeIn); 
	
	НоваяЗапись = НаборЗаписей.Добавить(); 
	
	НоваяЗапись.Период = НачалоМесяца(Дата); 
	НоваяЗапись.Бренд = Бренд; 
	НоваяЗапись.Должность = Должность; 
	НоваяЗапись.Параметр = Перечисления.ТТ_Параметры_ЗП.TradeIn; 
	НоваяЗапись.План = TradeIn; 
	НоваяЗапись.Процент = TradeInП; 
	
	НаборЗаписей.Записать(Истина); 	
	НаборЗаписей.Очистить();
	
	НаборЗаписей.Отбор.Бренд.Установить(Бренд); 
	НаборЗаписей.Отбор.Должность.Установить(Должность); 
	НаборЗаписей.Отбор.Период.Установить(НачалоМесяца(Дата));
	НаборЗаписей.Отбор.Параметр.Установить(Перечисления.ТТ_Параметры_ЗП.ДОП); 
	
	НоваяЗапись = НаборЗаписей.Добавить(); 
	
	НоваяЗапись.Период = НачалоМесяца(Дата); 
	НоваяЗапись.Бренд = Бренд; 
	НоваяЗапись.Должность = Должность; 
	НоваяЗапись.Параметр = Перечисления.ТТ_Параметры_ЗП.ДОП; 
	НоваяЗапись.План = ДОП; 
	НоваяЗапись.Процент = ДОПП; 
	
	НаборЗаписей.Записать(Истина); 	
	НаборЗаписей.Очистить();
	
	НаборЗаписей.Отбор.Бренд.Установить(Бренд); 
	НаборЗаписей.Отбор.Должность.Установить(Должность); 
	НаборЗаписей.Отбор.Период.Установить(НачалоМесяца(Дата));
	НаборЗаписей.Отбор.Параметр.Установить(Перечисления.ТТ_Параметры_ЗП.Склад); 
	
	НоваяЗапись = НаборЗаписей.Добавить(); 
	
	НоваяЗапись.Период = НачалоМесяца(Дата); 
	НоваяЗапись.Бренд = Бренд; 
	НоваяЗапись.Должность = Должность; 
	НоваяЗапись.Параметр = Перечисления.ТТ_Параметры_ЗП.Склад; 
	НоваяЗапись.План = Склад; 
	НоваяЗапись.Процент = СкладП; 
	
	НаборЗаписей.Записать(Истина); 	
	НаборЗаписей.Очистить();
	
	НаборЗаписей.Отбор.Бренд.Установить(Бренд); 
	НаборЗаписей.Отбор.Должность.Установить(Должность); 
	НаборЗаписей.Отбор.Период.Установить(НачалоМесяца(Дата));
	НаборЗаписей.Отбор.Параметр.Установить(Перечисления.ТТ_Параметры_ЗП.ФинПродукт); 
	
	НоваяЗапись = НаборЗаписей.Добавить(); 
	
	НоваяЗапись.Период = НачалоМесяца(Дата); 
	НоваяЗапись.Бренд = Бренд; 
	НоваяЗапись.Должность = Должность; 
	НоваяЗапись.Параметр = Перечисления.ТТ_Параметры_ЗП.ФинПродукт; 
	НоваяЗапись.План = ФинПродукт; 
	НоваяЗапись.Процент = ФинПродуктП; 
	
	НаборЗаписей.Записать(Истина); 	
	НаборЗаписей.Очистить();
	
	НаборЗаписей.Отбор.Бренд.Установить(Бренд); 
	НаборЗаписей.Отбор.Должность.Установить(Должность); 
	НаборЗаписей.Отбор.Период.Установить(НачалоМесяца(Дата));
	НаборЗаписей.Отбор.Параметр.Установить(Перечисления.ТТ_Параметры_ЗП.Штуки); 
	
	НоваяЗапись = НаборЗаписей.Добавить(); 
	
	НоваяЗапись.Период = НачалоМесяца(Дата); 
	НоваяЗапись.Бренд = Бренд; 
	НоваяЗапись.Должность = Должность; 
	НоваяЗапись.Параметр = Перечисления.ТТ_Параметры_ЗП.Штуки; 
	НоваяЗапись.План = Штуки; 
	НоваяЗапись.Процент = ШтукиП; 
	
	НаборЗаписей.Записать(Истина); 	
	НаборЗаписей.Очистить();
	
	
КонецПроцедуры
